<script>
  import { onMount } from 'svelte'
  import gsap from 'gsap'
  import ScrollTrigger from 'gsap/dist/ScrollTrigger'

  onMount(() => {
    gsap.registerPlugin(ScrollTrigger)

    gsap.from('.introduction span, .events__container .event, .logo', {
      opacity: 0,
      stagger: 0.2,
      ease: 'power1.inOut',
      duration: 1,
      delay: 3.5,
    })

    gsap.to('.introduction span, .events__container .event, nav, .logo', {
      scrollTrigger: {
        trigger: '.introduction',
        start: 'top+=100 ',
        end: 'center',
        scrub: true,
      },
      opacity: 0,
      y: -50,
      stagger: 0.2,
    })
  })
</script>

<section class="introduction">
  <div class="title__container">
    <!-- <svg
    width="59"
    height="59"
    viewBox="0 0 59 59"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <circle cx="29.5" cy="29.5" r="23.5" stroke="#e7e7be" stroke-width="12" />
  </svg> -->
    <svg
      preserveAspectRatio
      viewBox="0 0 350 52"
      class="logo"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M20.176 11.14C26.624 11.14 30.784 15.82 30.784 23.1V40H21.112V24.244C21.112 21.02 19.968 19.356 17.42 19.356C14.508 19.356 12.688 21.436 12.688 25.024V40H3.016V1.78H12.688V13.792C14.768 12.128 17.368 11.14 20.176 11.14ZM63.8836 25.7C63.8836 26.584 63.8316 27.416 63.7276 28.3H42.8756C43.4996 31.524 45.5276 33.188 48.5956 33.188C50.8316 33.188 52.7556 32.2 53.6396 30.536H63.3116C61.3356 36.932 55.6156 40.936 48.5956 40.936C39.8076 40.936 33.3596 34.54 33.3596 25.96C33.3596 17.38 39.7556 11.036 48.5956 11.036C57.6436 11.036 63.8836 17.484 63.8836 25.7ZM48.5956 18.628C45.7876 18.628 43.8116 20.136 43.0316 22.944H54.3676C53.5356 20.136 51.5076 18.628 48.5956 18.628ZM66.7241 40V1.78H76.3961V40H66.7241ZM100.978 1.78H110.546V40H103.422L102.486 37.92C100.198 39.844 97.2863 40.988 94.0103 40.988C85.4303 40.988 79.2943 34.696 79.2943 25.96C79.2943 17.276 85.4303 11.036 94.0103 11.036C96.6103 11.036 99.0023 11.712 100.978 12.96V1.78ZM95.3103 32.408C98.9503 32.408 101.602 29.652 101.602 26.012C101.602 22.32 98.9503 19.564 95.3103 19.564C91.7223 19.564 89.0183 22.32 89.0183 26.012C89.0183 29.652 91.7223 32.408 95.3103 32.408ZM143.958 25.7C143.958 26.584 143.906 27.416 143.802 28.3H122.95C123.574 31.524 125.602 33.188 128.67 33.188C130.906 33.188 132.83 32.2 133.714 30.536H143.386C141.41 36.932 135.69 40.936 128.67 40.936C119.882 40.936 113.434 34.54 113.434 25.96C113.434 17.38 119.83 11.036 128.67 11.036C137.718 11.036 143.958 17.484 143.958 25.7ZM128.67 18.628C125.862 18.628 123.886 20.136 123.106 22.944H134.442C133.61 20.136 131.582 18.628 128.67 18.628ZM162.502 11.816H165.102V20.656H161.306C157.926 20.656 156.47 22.164 156.47 25.752V40H146.798V11.92H153.298L154.806 15.04C156.782 12.752 159.174 11.816 162.502 11.816ZM186.791 1.78H196.359V40H189.235L188.299 37.92C186.011 39.844 183.099 40.988 179.822 40.988C171.242 40.988 165.106 34.696 165.106 25.96C165.106 17.276 171.242 11.036 179.822 11.036C182.423 11.036 184.815 11.712 186.791 12.96V1.78ZM181.122 32.408C184.763 32.408 187.415 29.652 187.415 26.012C187.415 22.32 184.763 19.564 181.122 19.564C177.534 19.564 174.831 22.32 174.831 26.012C174.831 29.652 177.534 32.408 181.122 32.408ZM229.77 25.7C229.77 26.584 229.718 27.416 229.614 28.3H208.762C209.386 31.524 211.414 33.188 214.482 33.188C216.718 33.188 218.642 32.2 219.526 30.536H229.198C227.222 36.932 221.502 40.936 214.482 40.936C205.694 40.936 199.246 34.54 199.246 25.96C199.246 17.38 205.642 11.036 214.482 11.036C223.53 11.036 229.77 17.484 229.77 25.7ZM214.482 18.628C211.674 18.628 209.698 20.136 208.918 22.944H220.254C219.422 20.136 217.394 18.628 214.482 18.628ZM243.426 40.936C235.782 40.936 231.154 36.88 231.05 30.796H240.358C240.358 32.876 241.814 33.812 243.634 33.812C245.038 33.812 246.39 33.084 246.39 31.628C246.39 30.016 244.258 29.548 241.554 29.132C237.186 28.404 231.414 27.104 231.414 20.292C231.414 14.676 236.25 11.036 243.426 11.036C250.55 11.036 255.23 14.832 255.334 20.5H246.234C246.234 18.732 245.038 17.9 243.322 17.9C241.762 17.9 240.722 18.68 240.722 19.98C240.722 21.54 242.854 21.956 245.506 22.424C249.978 23.204 255.854 24.14 255.854 31.212C255.854 37.088 250.914 40.936 243.426 40.936ZM258.88 8.436V0.219998H268.448V8.436H258.88ZM258.828 40V11.92H268.5V40H258.828ZM295.526 11.92L302.026 11.972V36.932C302.026 45.72 296.254 51.18 286.998 51.18C279.042 51.18 273.478 47.176 272.178 40.52H281.486C282.162 42.392 284.554 43.432 286.894 43.432C290.17 43.432 292.77 41.352 292.77 38.024V37.192C290.638 38.492 288.142 39.272 285.438 39.272C277.378 39.272 271.398 33.292 271.398 25.18C271.398 17.172 277.378 11.036 285.438 11.036C288.818 11.036 291.886 12.284 294.278 14.312L295.526 11.92ZM287.05 31.316C290.534 31.316 293.03 28.768 293.03 25.18C293.03 21.644 290.534 19.044 287.05 19.044C283.566 19.044 281.018 21.644 281.018 25.18C281.018 28.768 283.514 31.316 287.05 31.316ZM323.542 11.14C330.042 11.14 334.358 15.768 334.358 22.892V40H324.686V24.244C324.686 20.968 323.438 19.356 320.994 19.356C317.978 19.356 316.262 21.436 316.262 25.024V40H306.59V11.92H313.402L314.702 14.832C316.782 12.492 319.902 11.14 323.542 11.14Z"
        fill="#ECECE2"
      />
    </svg>

    <h2>
      <span>Designing light & crafting conceptual</span>
      <span>experiences that transform spaces.</span>
    </h2>
  </div>
</section>

<!-- <div class="events__container">
  <div class="event">
    <h3 class="event__title">DUTCH DESIGN WEEK</h3>
    <p class="event__location">Sectie c, Eindhoven</p>
    <p class="event__date">19 - 27 October 2024</p>
  </div>
</div> -->

<style>
  .introduction {
    position: absolute;
    top: 0;
    left: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100svh;
    width: 100%;
    z-index: 10;
    background-color: rgba(255, 255, 255, 0);
    pointer-events: none;
    gap: 1rem;
  }

  .title__container {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }

  .logo {
    height: 4rem;
    width: 100%;
    margin: 0;
  }

  h2 {
    font-size: 1.5rem;
    font-weight: 300;
    color: var(--light);
    line-height: 1.1em;
    margin: 0;
  }

  h2 span {
    display: block;
  }

  .events__container {
    position: absolute;
    bottom: var(--padding-medium);
    left: var(--padding-medium);
    display: flex;
    gap: var(--padding-large);
    color: var(--light);
    z-index: 10;
  }

  .event__title {
    font-size: 1rem;
    font-weight: 500;
  }

  .event__location {
    font-size: 0.9rem;
    font-weight: 300;
    line-height: 0.5em;
  }

  .event__date {
    font-size: 0.8rem;
    font-weight: 300;
    line-height: 0.5em;
  }

  @media (max-width: 768px) {
    .introduction {
      gap: 0.5rem;
    }

    .logo {
      transform: scale(0.6);
      transform-origin: left;
      height: max-content;
    }

    h2 {
      font-size: 1rem;
    }

    .events__container {
      gap: var(--padding-small);
      bottom: var(--padding-small);
      left: var(--padding-small);
    }

    .event__title {
      font-size: 0.8rem;
    }

    .event__location {
      font-size: 0.7rem;
    }

    .event__date {
      font-size: 0.6rem;
    }

    svg {
      width: 30px;
      height: 30px;
    }
  }
</style>
