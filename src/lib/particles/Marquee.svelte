<script>
  import { onMount } from "svelte";
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/dist/ScrollTrigger";

  import image from "$lib/assets/image 6.png";

  onMount(() => {
    gsap.registerPlugin(ScrollTrigger);

    gsap.to(".marquee__wrapper", {
      scrollTrigger: {
        trigger: ".marquee__wrapper",
        start: "top" - window.innerHeight,
        end: "top",
        scrub: 1,
      },
      scale: 1,
    });
  });
</script>

<div class="overflow__fix">
  <div class="marquee__wrapper">
    <div class="marquee__container">
      <svg
        viewBox="0 0 2122 263"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M1992.26 6.07227C2067.98 6.07227 2121.56 57.8641 2121.56 131.087C2121.56 203.953 2067.98 256.102 1992.26 256.102H1891.18V6.07227H1992.26ZM1989.05 193.237C2026.19 193.237 2050.84 167.877 2050.84 131.087C2050.84 93.9398 2026.19 69.294 1989.05 69.294H1960.47V193.237H1989.05Z"
          fill="black"
        />
        <path
          d="M1782.1 196.452H1876.75V256.102H1713.52V6.07227H1873.54V65.7222H1782.1V102.512H1864.25V158.947H1782.1V196.452Z"
          fill="black"
        />
        <path
          d="M1707.69 6.07227V68.2225H1639.82V256.102H1570.53V68.2225H1502.66V6.07227H1707.69Z"
          fill="black"
        />
        <path
          d="M1470.57 256.102L1457 215.74H1368.42L1354.48 256.102H1280.55L1378.77 6.07227H1446.28L1546.65 256.102H1470.57ZM1440.21 161.805L1412.35 84.2958L1385.2 161.805H1440.21Z"
          fill="black"
        />
        <path
          d="M1210.09 193.237H1299.03V256.102H1140.08V6.07227H1210.09V193.237Z"
          fill="black"
        />
        <path
          d="M1009.92 262.531C946.34 262.531 900.977 221.098 900.977 159.662V6.07227H971.343V158.233C971.343 182.879 987.059 198.595 1009.92 198.595C1033.14 198.595 1048.85 182.879 1048.85 158.233V6.07227H1119.22V159.662C1119.22 221.098 1073.85 262.531 1009.92 262.531Z"
          fill="black"
        />
        <path
          d="M792.426 262.531C731.348 262.531 691.7 230.027 691.7 175.378H762.78C762.78 193.237 776.71 202.167 792.426 202.167C806.714 202.167 820.644 194.309 820.644 180.736C820.644 165.019 800.999 160.376 777.067 154.661C740.992 145.732 694.915 134.659 694.915 77.8663C694.915 28.5748 730.991 0.357178 789.926 0.357178C849.933 0.357178 884.58 31.0751 884.58 82.1526H815.286C815.286 66.0792 803.499 58.5783 789.212 58.5783C777.067 58.5783 765.28 63.9361 765.28 75.7232C765.28 90.0106 784.211 94.654 807.428 100.726C844.575 110.013 892.438 122.514 892.438 179.307C892.438 233.956 850.648 262.531 792.426 262.531Z"
          fill="black"
        />
        <path
          d="M605.072 6.07227C658.292 6.07227 697.94 44.2911 697.94 96.4401C697.94 148.946 658.292 187.165 605.072 187.165H567.567V256.102H498.63V6.07227H605.072ZM596.856 127.158C615.073 127.158 626.86 114.657 626.86 96.7973C626.86 78.938 615.073 66.4365 596.856 66.4365H567.567V127.158H596.856Z"
          fill="black"
        />
        <path
          d="M423.571 256.102L409.998 215.74H321.416L307.486 256.102H233.549L331.775 6.07227H399.283L499.652 256.102H423.571ZM393.211 161.805L365.35 84.2958L338.204 161.805H393.211Z"
          fill="black"
        />
        <path
          d="M132.873 262.531C56.7924 262.531 0 206.096 0 131.444C0 56.4352 56.7924 0 132.873 0C198.238 0 248.958 43.2194 259.316 106.441H189.308C180.736 81.081 159.305 64.2933 132.873 64.2933C97.5115 64.2933 71.437 92.8681 71.437 131.444C71.437 170.02 97.5115 198.238 132.873 198.238C160.733 198.238 182.522 180.021 189.665 152.161H260.031C250.387 217.883 199.309 262.531 132.873 262.531Z"
          fill="black"
        />
      </svg>

      <img class="image" src={image} alt="" />
      <!-- Duplicate the content to create an infinite loop effect -->
      <svg
        viewBox="0 0 2122 263"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M1992.26 6.07227C2067.98 6.07227 2121.56 57.8641 2121.56 131.087C2121.56 203.953 2067.98 256.102 1992.26 256.102H1891.18V6.07227H1992.26ZM1989.05 193.237C2026.19 193.237 2050.84 167.877 2050.84 131.087C2050.84 93.9398 2026.19 69.294 1989.05 69.294H1960.47V193.237H1989.05Z"
          fill="black"
        />
        <path
          d="M1782.1 196.452H1876.75V256.102H1713.52V6.07227H1873.54V65.7222H1782.1V102.512H1864.25V158.947H1782.1V196.452Z"
          fill="black"
        />
        <path
          d="M1707.69 6.07227V68.2225H1639.82V256.102H1570.53V68.2225H1502.66V6.07227H1707.69Z"
          fill="black"
        />
        <path
          d="M1470.57 256.102L1457 215.74H1368.42L1354.48 256.102H1280.55L1378.77 6.07227H1446.28L1546.65 256.102H1470.57ZM1440.21 161.805L1412.35 84.2958L1385.2 161.805H1440.21Z"
          fill="black"
        />
        <path
          d="M1210.09 193.237H1299.03V256.102H1140.08V6.07227H1210.09V193.237Z"
          fill="black"
        />
        <path
          d="M1009.92 262.531C946.34 262.531 900.977 221.098 900.977 159.662V6.07227H971.343V158.233C971.343 182.879 987.059 198.595 1009.92 198.595C1033.14 198.595 1048.85 182.879 1048.85 158.233V6.07227H1119.22V159.662C1119.22 221.098 1073.85 262.531 1009.92 262.531Z"
          fill="black"
        />
        <path
          d="M792.426 262.531C731.348 262.531 691.7 230.027 691.7 175.378H762.78C762.78 193.237 776.71 202.167 792.426 202.167C806.714 202.167 820.644 194.309 820.644 180.736C820.644 165.019 800.999 160.376 777.067 154.661C740.992 145.732 694.915 134.659 694.915 77.8663C694.915 28.5748 730.991 0.357178 789.926 0.357178C849.933 0.357178 884.58 31.0751 884.58 82.1526H815.286C815.286 66.0792 803.499 58.5783 789.212 58.5783C777.067 58.5783 765.28 63.9361 765.28 75.7232C765.28 90.0106 784.211 94.654 807.428 100.726C844.575 110.013 892.438 122.514 892.438 179.307C892.438 233.956 850.648 262.531 792.426 262.531Z"
          fill="black"
        />
        <path
          d="M605.072 6.07227C658.292 6.07227 697.94 44.2911 697.94 96.4401C697.94 148.946 658.292 187.165 605.072 187.165H567.567V256.102H498.63V6.07227H605.072ZM596.856 127.158C615.073 127.158 626.86 114.657 626.86 96.7973C626.86 78.938 615.073 66.4365 596.856 66.4365H567.567V127.158H596.856Z"
          fill="black"
        />
        <path
          d="M423.571 256.102L409.998 215.74H321.416L307.486 256.102H233.549L331.775 6.07227H399.283L499.652 256.102H423.571ZM393.211 161.805L365.35 84.2958L338.204 161.805H393.211Z"
          fill="black"
        />
        <path
          d="M132.873 262.531C56.7924 262.531 0 206.096 0 131.444C0 56.4352 56.7924 0 132.873 0C198.238 0 248.958 43.2194 259.316 106.441H189.308C180.736 81.081 159.305 64.2933 132.873 64.2933C97.5115 64.2933 71.437 92.8681 71.437 131.444C71.437 170.02 97.5115 198.238 132.873 198.238C160.733 198.238 182.522 180.021 189.665 152.161H260.031C250.387 217.883 199.309 262.531 132.873 262.531Z"
          fill="black"
        />
      </svg>

      <img class="image" src={image} alt="" />
    </div>
  </div>
</div>

<style>
  .marquee__wrapper {
    position: relative;

    width: 100%;
    height: max-content;

    transform: translateX(-20%) scale(0.7);
  }

  .marquee__container {
    display: flex;
    gap: 1rem;
    width: max-content;
    justify-content: center;
    animation: marquee 20s linear infinite;
  }

  svg {
    position: relative;
    height: 40vh;
  }

  .image {
    position: relative;
    object-fit: cover;
    aspect-ratio: 1;
    height: 40vh;
  }

  @keyframes marquee {
    0% {
      transform: translateX(0%);
    }
    100% {
      transform: translateX(-50%);
    }
  }
</style>
